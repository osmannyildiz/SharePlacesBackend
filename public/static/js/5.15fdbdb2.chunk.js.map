{"version":3,"sources":["components/ui/Avatar.js","components/users/UserListItem.js","components/users/UserList.js","pages/Users.js","components/form/Button.js","../node_modules/.pnpm/@babel+runtime@7.9.0/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","components/ui/ErrorModal.js","hooks/useHttpClient.js","components/ui/Card.js","components/ui/Modal.js"],"names":["Avatar","props","className","style","src","alt","width","size","height","UserListItem","Card","to","user","id","imageUrl","process","name","places","length","UserList","users","map","key","Users","useState","setUsers","useHttpClient","sendRequest","isLoading","error","clearError","useEffect","respData","data","console","Fragment","ErrorModal","onCancel","Spinner","Button","inverse","danger","href","children","exact","type","disabled","onClick","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","value","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","header","isOpen","footer","setIsLoading","setError","activeRequests","useRef","useCallback","url","method","headers","body","abortCtrl","AbortController","current","push","fetch","signal","resp","filter","ac","json","ok","Error","message","forEach","abort","ModalOverlay","content","onSubmit","event","preventDefault","bodyClassName","footerClassName","ReactDOM","createPortal","document","getElementById","Modal","in","classNames","timeout","mountOnEnter","unmountOnExit"],"mappings":"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","file":"static/js/5.15fdbdb2.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./Avatar.css\";\n\nexport default function Avatar(props) {\n\treturn (\n\t\t<div className={`avatar ${props.className}`} style={props.style}>\n\t\t\t<img\n\t\t\t\tsrc={props.src}\n\t\t\t\talt={props.alt}\n\t\t\t\tstyle={{ width: props.size, height: props.size }}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Avatar from \"../ui/Avatar\";\nimport Card from \"../ui/Card\";\nimport \"./UserListItem.css\";\n\nexport default function UserListItem(props) {\n\treturn (\n\t\t<li className=\"user-list-item\">\n\t\t\t<Card className=\"user-list-item__content\">\n\t\t\t\t<Link to={`/users/${props.user.id}/places`}>\n\t\t\t\t\t<div className=\"user-list-item__image\">\n\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\tprops.user.imageUrl\n\t\t\t\t\t\t\t\t\t? process.env.REACT_APP_ASSET_URL + \"/\" + props.user.imageUrl\n\t\t\t\t\t\t\t\t\t: \"/img/default_avatar.png\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\talt={props.user.name}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"user-list-item__info\">\n\t\t\t\t\t\t<h2>{props.user.name}</h2>\n\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t{props.user.places.length}{\" \"}\n\t\t\t\t\t\t\t{props.user.places.length === 1 ? \"place\" : \"places\"}\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t</div>\n\t\t\t\t</Link>\n\t\t\t</Card>\n\t\t</li>\n\t);\n}\n","import React from \"react\";\nimport Card from \"../ui/Card\";\nimport \"./UserList.css\";\nimport UserListItem from \"./UserListItem\";\n\nexport default function UserList(props) {\n\tif (props.users) {\n\t\tif (props.users.length > 0) {\n\t\t\treturn (\n\t\t\t\t<ul className=\"user-list\">\n\t\t\t\t\t{props.users.map((user) => (\n\t\t\t\t\t\t<UserListItem user={user} key={user.id} />\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div className=\"user-list center\">\n\t\t\t\t\t<Card>\n\t\t\t\t\t\t<h2>No users found.</h2>\n\t\t\t\t\t</Card>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t} else {\n\t\treturn null;\n\t}\n}\n","import React, { useEffect, useState } from \"react\";\nimport ErrorModal from \"../components/ui/ErrorModal\";\nimport Spinner from \"../components/ui/Spinner\";\nimport UserList from \"../components/users/UserList\";\nimport useHttpClient from \"../hooks/useHttpClient\";\n\nexport default function Users() {\n\tconst [users, setUsers] = useState(null);\n\tconst [sendRequest, isLoading, error, clearError] = useHttpClient();\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tconst respData = await sendRequest(\n\t\t\t\t\tprocess.env.REACT_APP_BACKEND_API_URL + \"/users\"\n\t\t\t\t);\n\t\t\t\tsetUsers(respData.data);\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error(err);\n\t\t\t}\n\t\t})();\n\t}, [sendRequest]);\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<ErrorModal error={error} onCancel={clearError} />\n\t\t\t{isLoading && (\n\t\t\t\t<div className=\"center\">\n\t\t\t\t\t<Spinner />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t{!isLoading && <UserList users={users} />}\n\t\t</React.Fragment>\n\t);\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./Button.css\";\n\nexport default function Button(props) {\n\tconst className = `\n\t\tbutton\n\t\tbutton--${props.size || \"default\"}\n\t\t${props.inverse && \"button--inverse\"}\n\t\t${props.danger && \"button--danger\"}\n\t\t${props.className || \"\"}\n\t`;\n\n\tif (props.href) {\n\t\treturn (\n\t\t\t<a href={props.href} className={className}>\n\t\t\t\t{props.children}\n\t\t\t</a>\n\t\t);\n\t}\n\n\tif (props.to) {\n\t\treturn (\n\t\t\t<Link to={props.to} exact={props.exact} className={className}>\n\t\t\t\t{props.children}\n\t\t\t</Link>\n\t\t);\n\t}\n\n\treturn (\n\t\t<button\n\t\t\ttype={props.type}\n\t\t\tclassName={className}\n\t\t\tstyle={props.style}\n\t\t\tdisabled={props.disabled}\n\t\t\tonClick={props.onClick}\n\t\t>\n\t\t\t{props.children}\n\t\t</button>\n\t);\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import React from 'react';\nimport Button from \"../form/Button\";\nimport Modal from \"./Modal\";\n\nexport default function ErrorModal(props) {\n\treturn (\n\t\t<Modal\n\t\t\tonCancel={props.onCancel}\n\t\t\theader=\"An Error Occurred!\"\n\t\t\tisOpen={!!props.error}\n\t\t\tfooter={<Button onClick={props.onCancel}>OKAY</Button>}\n\t\t>\n\t\t\t<p>{props.error}</p>\n\t\t</Modal>\n\t);\n}\n","import { useCallback, useEffect, useRef, useState } from \"react\";\n\nconst useHttpClient = () => {\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [error, setError] = useState(null);\n\n\tconst activeRequests = useRef([]);\n\n\tconst sendRequest = useCallback(\n\t\tasync (url, method = \"GET\", headers = {}, body = null) => {\n\t\t\tsetIsLoading(true);\n\t\t\tconst abortCtrl = new AbortController();\n\t\t\tactiveRequests.current.push(abortCtrl);\n\t\t\ttry {\n\t\t\t\tconst resp = await fetch(url, {\n\t\t\t\t\tmethod,\n\t\t\t\t\theaders,\n\t\t\t\t\tbody,\n\t\t\t\t\tsignal: abortCtrl.signal,\n\t\t\t\t});\n\t\t\t\tactiveRequests.current = activeRequests.current.filter(\n\t\t\t\t\t(ac) => ac !== abortCtrl\n\t\t\t\t);\n\t\t\t\tconst respData = await resp.json();\n\n\t\t\t\tif (!respData.ok) {\n\t\t\t\t\tthrow new Error(respData.message);\n\t\t\t\t}\n\n\t\t\t\tsetIsLoading(false);\n\t\t\t\treturn respData;\n\t\t\t} catch (err) {\n\t\t\t\tsetError(err.message);\n\t\t\t\tsetIsLoading(false);\n\t\t\t\tthrow err;\n\t\t\t}\n\t\t},\n\t\t[]\n\t);\n\n\tconst clearError = useCallback(() => {\n\t\tsetError(null);\n\t}, []);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\t// eslint-disable-next-line\n\t\t\tactiveRequests.current.forEach((abortCtrl) => abortCtrl.abort());\n\t\t};\n\t}, []);\n\n\treturn [sendRequest, isLoading, error, clearError];\n};\n\nexport default useHttpClient;\n","import React from \"react\";\nimport \"./Card.css\";\n\nexport default function Card(props) {\n\treturn (\n\t\t<div className={`card ${props.className || \"\"}`} style={props.style}>\n\t\t\t{props.children}\n\t\t</div>\n\t);\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { CSSTransition } from \"react-transition-group\";\nimport Backdrop from \"./Backdrop\";\nimport \"./Modal.css\";\n\nfunction ModalOverlay(props) {\n\tfunction defaultSubmitHandler(event) {\n\t\tevent.preventDefault();\n\t}\n\n\tconst content = (\n\t\t<div className={`modal ${props.className || \"\"}`} style={props.style}>\n\t\t\t<header className=\"modal__header\">\n\t\t\t\t<h2>{props.header}</h2>\n\t\t\t</header>\n\t\t\t<form onSubmit={props.onSubmit ? props.onSubmit : defaultSubmitHandler}>\n\t\t\t\t<div className={`modal__body ${props.bodyClassName || \"\"}`}>\n\t\t\t\t\t{props.children}\n\t\t\t\t</div>\n\t\t\t\t<footer className={`modal__footer ${props.footerClassName || \"\"}`}>\n\t\t\t\t\t{props.footer}\n\t\t\t\t</footer>\n\t\t\t</form>\n\t\t</div>\n\t);\n\treturn ReactDOM.createPortal(\n\t\tcontent,\n\t\tdocument.getElementById(\"modal-portal\")\n\t);\n}\n\nexport default function Modal(props) {\n\treturn (\n\t\t<React.Fragment>\n\t\t\t{props.isOpen && <Backdrop onClick={props.onCancel} />}\n\t\t\t<CSSTransition\n\t\t\t\tin={props.isOpen}\n\t\t\t\tclassNames=\"modal\"\n\t\t\t\ttimeout={200}\n\t\t\t\tmountOnEnter\n\t\t\t\tunmountOnExit\n\t\t\t>\n\t\t\t\t<ModalOverlay {...props} />\n\t\t\t</CSSTransition>\n\t\t</React.Fragment>\n\t);\n}\n"],"sourceRoot":""}