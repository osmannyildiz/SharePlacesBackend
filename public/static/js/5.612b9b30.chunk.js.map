{"version":3,"sources":["components/form/Button.js","../node_modules/.pnpm/@babel+runtime@7.9.0/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","components/ui/ErrorModal.js","hooks/useHttpClient.js","components/ui/Card.js","components/ui/Modal.js","components/ui/Avatar.js","components/users/UserListItem.js","components/users/UserList.js","pages/Users.js"],"names":["Button","props","className","size","inverse","danger","href","children","to","exact","type","style","disabled","onClick","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","ErrorModal","onCancel","header","isOpen","footer","useHttpClient","useState","isLoading","setIsLoading","setError","activeRequests","useRef","sendRequest","useCallback","url","method","headers","body","abortCtrl","AbortController","current","push","fetch","signal","resp","filter","ac","json","respData","ok","Error","message","clearError","useEffect","forEach","abort","Card","ModalOverlay","content","onSubmit","event","preventDefault","bodyClassName","footerClassName","ReactDOM","createPortal","document","getElementById","Modal","Fragment","in","classNames","timeout","mountOnEnter","unmountOnExit","Avatar","src","alt","width","height","UserListItem","user","id","imageUrl","process","name","places","length","UserList","users","map","Users","setUsers","data","console","Spinner"],"mappings":"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","file":"static/js/5.612b9b30.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./Button.css\";\n\nexport default function Button(props) {\n\tconst className = `\n\t\tbutton\n\t\tbutton--${props.size || \"default\"}\n\t\t${props.inverse && \"button--inverse\"}\n\t\t${props.danger && \"button--danger\"}\n\t\t${props.className || \"\"}\n\t`;\n\n\tif (props.href) {\n\t\treturn (\n\t\t\t<a href={props.href} className={className}>\n\t\t\t\t{props.children}\n\t\t\t</a>\n\t\t);\n\t}\n\n\tif (props.to) {\n\t\treturn (\n\t\t\t<Link to={props.to} exact={props.exact} className={className}>\n\t\t\t\t{props.children}\n\t\t\t</Link>\n\t\t);\n\t}\n\n\treturn (\n\t\t<button\n\t\t\ttype={props.type}\n\t\t\tclassName={className}\n\t\t\tstyle={props.style}\n\t\t\tdisabled={props.disabled}\n\t\t\tonClick={props.onClick}\n\t\t>\n\t\t\t{props.children}\n\t\t</button>\n\t);\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import React from 'react';\nimport Button from \"../form/Button\";\nimport Modal from \"./Modal\";\n\nexport default function ErrorModal(props) {\n\treturn (\n\t\t<Modal\n\t\t\tonCancel={props.onCancel}\n\t\t\theader=\"An Error Occurred!\"\n\t\t\tisOpen={!!props.error}\n\t\t\tfooter={<Button onClick={props.onCancel}>OKAY</Button>}\n\t\t>\n\t\t\t<p>{props.error}</p>\n\t\t</Modal>\n\t);\n}\n","import { useCallback, useEffect, useRef, useState } from \"react\";\n\nconst useHttpClient = () => {\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [error, setError] = useState(null);\n\n\tconst activeRequests = useRef([]);\n\n\tconst sendRequest = useCallback(\n\t\tasync (url, method = \"GET\", headers = {}, body = null) => {\n\t\t\tsetIsLoading(true);\n\t\t\tconst abortCtrl = new AbortController();\n\t\t\tactiveRequests.current.push(abortCtrl);\n\t\t\ttry {\n\t\t\t\tconst resp = await fetch(url, {\n\t\t\t\t\tmethod,\n\t\t\t\t\theaders,\n\t\t\t\t\tbody,\n\t\t\t\t\tsignal: abortCtrl.signal,\n\t\t\t\t});\n\t\t\t\tactiveRequests.current = activeRequests.current.filter(\n\t\t\t\t\t(ac) => ac !== abortCtrl\n\t\t\t\t);\n\t\t\t\tconst respData = await resp.json();\n\n\t\t\t\tif (!respData.ok) {\n\t\t\t\t\tthrow new Error(respData.message);\n\t\t\t\t}\n\n\t\t\t\tsetIsLoading(false);\n\t\t\t\treturn respData;\n\t\t\t} catch (err) {\n\t\t\t\tsetError(err.message);\n\t\t\t\tsetIsLoading(false);\n\t\t\t\tthrow err;\n\t\t\t}\n\t\t},\n\t\t[]\n\t);\n\n\tconst clearError = useCallback(() => {\n\t\tsetError(null);\n\t}, []);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\t// eslint-disable-next-line\n\t\t\tactiveRequests.current.forEach((abortCtrl) => abortCtrl.abort());\n\t\t};\n\t}, []);\n\n\treturn [sendRequest, isLoading, error, clearError];\n};\n\nexport default useHttpClient;\n","import React from \"react\";\nimport \"./Card.css\";\n\nexport default function Card(props) {\n\treturn (\n\t\t<div className={`card ${props.className || \"\"}`} style={props.style}>\n\t\t\t{props.children}\n\t\t</div>\n\t);\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { CSSTransition } from \"react-transition-group\";\nimport Backdrop from \"./Backdrop\";\nimport \"./Modal.css\";\n\nfunction ModalOverlay(props) {\n\tfunction defaultSubmitHandler(event) {\n\t\tevent.preventDefault();\n\t}\n\n\tconst content = (\n\t\t<div className={`modal ${props.className || \"\"}`} style={props.style}>\n\t\t\t<header className=\"modal__header\">\n\t\t\t\t<h2>{props.header}</h2>\n\t\t\t</header>\n\t\t\t<form onSubmit={props.onSubmit ? props.onSubmit : defaultSubmitHandler}>\n\t\t\t\t<div className={`modal__body ${props.bodyClassName || \"\"}`}>\n\t\t\t\t\t{props.children}\n\t\t\t\t</div>\n\t\t\t\t<footer className={`modal__footer ${props.footerClassName || \"\"}`}>\n\t\t\t\t\t{props.footer}\n\t\t\t\t</footer>\n\t\t\t</form>\n\t\t</div>\n\t);\n\treturn ReactDOM.createPortal(\n\t\tcontent,\n\t\tdocument.getElementById(\"modal-portal\")\n\t);\n}\n\nexport default function Modal(props) {\n\treturn (\n\t\t<React.Fragment>\n\t\t\t{props.isOpen && <Backdrop onClick={props.onCancel} />}\n\t\t\t<CSSTransition\n\t\t\t\tin={props.isOpen}\n\t\t\t\tclassNames=\"modal\"\n\t\t\t\ttimeout={200}\n\t\t\t\tmountOnEnter\n\t\t\t\tunmountOnExit\n\t\t\t>\n\t\t\t\t<ModalOverlay {...props} />\n\t\t\t</CSSTransition>\n\t\t</React.Fragment>\n\t);\n}\n","import React from \"react\";\nimport \"./Avatar.css\";\n\nexport default function Avatar(props) {\n\treturn (\n\t\t<div className={`avatar ${props.className}`} style={props.style}>\n\t\t\t<img\n\t\t\t\tsrc={props.src}\n\t\t\t\talt={props.alt}\n\t\t\t\tstyle={{ width: props.size, height: props.size }}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Avatar from \"../ui/Avatar\";\nimport Card from \"../ui/Card\";\nimport \"./UserListItem.css\";\n\nexport default function UserListItem(props) {\n\treturn (\n\t\t<li className=\"user-list-item\">\n\t\t\t<Card className=\"user-list-item__content\">\n\t\t\t\t<Link to={`/users/${props.user.id}/places`}>\n\t\t\t\t\t<div className=\"user-list-item__image\">\n\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\tprops.user.imageUrl\n\t\t\t\t\t\t\t\t\t? process.env.REACT_APP_ASSET_URL + \"/\" + props.user.imageUrl\n\t\t\t\t\t\t\t\t\t: \"/img/default_avatar.png\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\talt={props.user.name}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"user-list-item__info\">\n\t\t\t\t\t\t<h2>{props.user.name}</h2>\n\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t{props.user.places.length}{\" \"}\n\t\t\t\t\t\t\t{props.user.places.length === 1 ? \"place\" : \"places\"}\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t</div>\n\t\t\t\t</Link>\n\t\t\t</Card>\n\t\t</li>\n\t);\n}\n","import React from \"react\";\nimport Card from \"../ui/Card\";\nimport \"./UserList.css\";\nimport UserListItem from \"./UserListItem\";\n\nexport default function UserList(props) {\n\tif (props.users) {\n\t\tif (props.users.length > 0) {\n\t\t\treturn (\n\t\t\t\t<ul className=\"user-list\">\n\t\t\t\t\t{props.users.map((user) => (\n\t\t\t\t\t\t<UserListItem user={user} key={user.id} />\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div className=\"user-list center\">\n\t\t\t\t\t<Card>\n\t\t\t\t\t\t<h2>No users found.</h2>\n\t\t\t\t\t</Card>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t} else {\n\t\treturn null;\n\t}\n}\n","import React, { useEffect, useState } from \"react\";\nimport ErrorModal from \"../components/ui/ErrorModal\";\nimport Spinner from \"../components/ui/Spinner\";\nimport UserList from \"../components/users/UserList\";\nimport useHttpClient from \"../hooks/useHttpClient\";\n\nexport default function Users() {\n\tconst [users, setUsers] = useState(null);\n\tconst [sendRequest, isLoading, error, clearError] = useHttpClient();\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tconst respData = await sendRequest(\n\t\t\t\t\tprocess.env.REACT_APP_BACKEND_API_URL + \"/users\"\n\t\t\t\t);\n\t\t\t\tsetUsers(respData.data);\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error(err);\n\t\t\t}\n\t\t})();\n\t}, [sendRequest]);\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<ErrorModal error={error} onCancel={clearError} />\n\t\t\t{isLoading && (\n\t\t\t\t<div className=\"center\">\n\t\t\t\t\t<Spinner />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t{!isLoading && <UserList users={users} />}\n\t\t</React.Fragment>\n\t);\n}\n"],"sourceRoot":""}